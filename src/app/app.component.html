<div id="map-wrapper">
  <sebm-google-map [latitude]="lat" [longitude]="lng" [zoom]="13" (mapClick)="onMapClick($event)">
    <sebm-google-map-marker 
      *ngFor="let m of markers; let i = index"
      (markerClick)="clickedMarker(m)"
      [latitude]="m.address_lat"
      [longitude]="m.address_lng"
      [markerDraggable]="false"
      [iconUrl]="m.isUnsorted() ? 'assets/blue-dot2.png' : 'assets/green-dot2.png'"
      [zIndex]="m.isUnsorted() ? 1000 : m.iSortOrder">
    </sebm-google-map-marker>
  </sebm-google-map>
</div>

<div id="side-wrapper">
  <div id="top">
    <div class="panel panel-default">
      <div class="panel-heading">Sorted</div>
      <table class="table table-hover">
        <tbody>
          <tr *ngFor="let item of sorted; let i = index">
            <td [ngClass]="{ 'warning': item.flagged }">
              <b>{{ sorted.length-i }}.</b> {{ item.sDirection || (item.sHseNum + ' ' + item.sStreet) }}

              <button *ngIf="item.iLineInTheSand != 1" (click)="unsort(item)" type="button" 
                  class="btn btn-secondary pull-right">Reset</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div id="bottom">
    <div class="panel panel-default">
      <div class="panel-heading">Unsorted</div>
      <table class="table table-hover">
        <tbody>
          <tr *ngFor="let item of unsorted">
            <td [ngClass]="{ 'warning': item.flagged }" (click)="onClickedUnsorted(item)">
              {{ item.sDirection || (item.sHseNum + ' ' + item.sStreet) }}

              <button (click)="sort(item)" type="button" 
                  class="btn btn-secondary pull-right">Sort</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div id="prompt">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-10">
        <span *ngIf="promptStreet">
          <span>{{ promptStreet }}</span><br/>
          <button type="button" class="btn btn-primary" (click)="addStreet('LT onto')">LT onto</button>
          <button type="button" class="btn btn-primary" (click)="addStreet('RT onto')">RT onto</button>
          <button type="button" class="btn btn-primary" (click)="addStreet('Cross Over')">Cross Over</button>
          <button type="button" class="btn btn-primary" (click)="addStreet('Continue On ')">Continue On</button>
          <button type="button" class="btn btn-primary" (click)="addStreet('Go Back To')">Go Back To</button>
          <button type="button" class="btn btn-primary" (click)="addStreet('Turn Around', true)">Turn around</button>
          <button type="button" class="btn btn-default" (click)="closePromptStreet()">Cancel</button>
        </span>
      </div>
      <div class="col-md-2">
        <span *ngIf="unsaved">
          <button type="button" class="btn btn-warning pull-right" (click)="save()">Save New Changes</button>
        </span>
      </div>
    </div>
  </div>
</div>